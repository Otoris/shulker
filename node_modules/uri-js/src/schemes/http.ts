import ***REMOVED*** URISchemeHandler, URIComponents, URIOptions ***REMOVED*** from "../uri";

const handler:URISchemeHandler = ***REMOVED***
	scheme : "http",

	domainHost : true,

	parse : function (components:URIComponents, options:URIOptions):URIComponents ***REMOVED***
		//report missing host
		if (!components.host) ***REMOVED***
			components.error = components.error || "HTTP URIs must have a host.";
		***REMOVED***

		return components;
	***REMOVED***,

	serialize : function (components:URIComponents, options:URIOptions):URIComponents ***REMOVED***
		//normalize the default port
		if (components.port === (String(components.scheme).toLowerCase() !== "https" ? 80 : 443) || components.port === "") ***REMOVED***
			components.port = undefined;
		***REMOVED***
		
		//normalize the empty path
		if (!components.path) ***REMOVED***
			components.path = "/";
		***REMOVED***

		//NOTE: We do not parse query strings for HTTP URIs
		//as WWW Form Url Encoded query strings are part of the HTML4+ spec,
		//and not the HTTP spec.

		return components;
	***REMOVED***
***REMOVED***;

export default handler;