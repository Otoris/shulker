/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */
import ***REMOVED*** Observable ***REMOVED*** from '../Observable';
import ***REMOVED*** async ***REMOVED*** from '../scheduler/async';
import ***REMOVED*** isNumeric ***REMOVED*** from '../util/isNumeric';
import ***REMOVED*** isScheduler ***REMOVED*** from '../util/isScheduler';
export function timer(dueTime, periodOrScheduler, scheduler) ***REMOVED***
    if (dueTime === void 0) ***REMOVED***
        dueTime = 0;
    ***REMOVED***
    var period = -1;
    if (isNumeric(periodOrScheduler)) ***REMOVED***
        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);
    ***REMOVED***
    else if (isScheduler(periodOrScheduler)) ***REMOVED***
        scheduler = periodOrScheduler;
    ***REMOVED***
    if (!isScheduler(scheduler)) ***REMOVED***
        scheduler = async;
    ***REMOVED***
    return new Observable(function (subscriber) ***REMOVED***
        var due = isNumeric(dueTime)
            ? dueTime
            : (+dueTime - scheduler.now());
        return scheduler.schedule(dispatch, due, ***REMOVED***
            index: 0, period: period, subscriber: subscriber
        ***REMOVED***);
    ***REMOVED***);
***REMOVED***
function dispatch(state) ***REMOVED***
    var index = state.index, period = state.period, subscriber = state.subscriber;
    subscriber.next(index);
    if (subscriber.closed) ***REMOVED***
        return;
    ***REMOVED***
    else if (period === -1) ***REMOVED***
        return subscriber.complete();
    ***REMOVED***
    state.index = index + 1;
    this.schedule(state, period);
***REMOVED***
//# sourceMappingURL=timer.js.map
