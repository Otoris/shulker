"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
var async_1 = require("../scheduler/async");
var scan_1 = require("./scan");
var defer_1 = require("../observable/defer");
var map_1 = require("./map");
function timeInterval(scheduler) ***REMOVED***
    if (scheduler === void 0) ***REMOVED*** scheduler = async_1.async; ***REMOVED***
    return function (source) ***REMOVED*** return defer_1.defer(function () ***REMOVED***
        return source.pipe(scan_1.scan(function (_a, value) ***REMOVED***
            var current = _a.current;
            return (***REMOVED*** value: value, current: scheduler.now(), last: current ***REMOVED***);
        ***REMOVED***, ***REMOVED*** current: scheduler.now(), value: undefined, last: undefined ***REMOVED***), map_1.map(function (_a) ***REMOVED***
            var current = _a.current, last = _a.last, value = _a.value;
            return new TimeInterval(value, current - last);
        ***REMOVED***));
    ***REMOVED***); ***REMOVED***;
***REMOVED***
exports.timeInterval = timeInterval;
var TimeInterval = (function () ***REMOVED***
    function TimeInterval(value, interval) ***REMOVED***
        this.value = value;
        this.interval = interval;
    ***REMOVED***
    return TimeInterval;
***REMOVED***());
exports.TimeInterval = TimeInterval;
//# sourceMappingURL=timeInterval.js.map