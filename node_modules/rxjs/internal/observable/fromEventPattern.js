"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
var Observable_1 = require("../Observable");
var isArray_1 = require("../util/isArray");
var isFunction_1 = require("../util/isFunction");
var map_1 = require("../operators/map");
function fromEventPattern(addHandler, removeHandler, resultSelector) ***REMOVED***
    if (resultSelector) ***REMOVED***
        return fromEventPattern(addHandler, removeHandler).pipe(map_1.map(function (args) ***REMOVED*** return isArray_1.isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); ***REMOVED***));
    ***REMOVED***
    return new Observable_1.Observable(function (subscriber) ***REMOVED***
        var handler = function () ***REMOVED***
            var e = [];
            for (var _i = 0; _i < arguments.length; _i++) ***REMOVED***
                e[_i] = arguments[_i];
            ***REMOVED***
            return subscriber.next(e.length === 1 ? e[0] : e);
        ***REMOVED***;
        var retValue;
        try ***REMOVED***
            retValue = addHandler(handler);
        ***REMOVED***
        catch (err) ***REMOVED***
            subscriber.error(err);
            return undefined;
        ***REMOVED***
        if (!isFunction_1.isFunction(removeHandler)) ***REMOVED***
            return undefined;
        ***REMOVED***
        return function () ***REMOVED*** return removeHandler(handler, retValue); ***REMOVED***;
    ***REMOVED***);
***REMOVED***
exports.fromEventPattern = fromEventPattern;
//# sourceMappingURL=fromEventPattern.js.map