"use strict";
var __extends = (this && this.__extends) || (function () ***REMOVED***
    var extendStatics = function (d, b) ***REMOVED***
        extendStatics = Object.setPrototypeOf ||
            (***REMOVED*** __proto__: [] ***REMOVED*** instanceof Array && function (d, b) ***REMOVED*** d.__proto__ = b; ***REMOVED***) ||
            function (d, b) ***REMOVED*** for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; ***REMOVED***;
        return extendStatics(d, b);
    ***REMOVED***
    return function (d, b) ***REMOVED***
        extendStatics(d, b);
        function __() ***REMOVED*** this.constructor = d; ***REMOVED***
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    ***REMOVED***;
***REMOVED***)();
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
var Subject_1 = require("../Subject");
var Subscription_1 = require("../Subscription");
var SubscriptionLoggable_1 = require("./SubscriptionLoggable");
var applyMixins_1 = require("../util/applyMixins");
var HotObservable = (function (_super) ***REMOVED***
    __extends(HotObservable, _super);
    function HotObservable(messages, scheduler) ***REMOVED***
        var _this = _super.call(this) || this;
        _this.messages = messages;
        _this.subscriptions = [];
        _this.scheduler = scheduler;
        return _this;
    ***REMOVED***
    HotObservable.prototype._subscribe = function (subscriber) ***REMOVED***
        var subject = this;
        var index = subject.logSubscribedFrame();
        var subscription = new Subscription_1.Subscription();
        subscription.add(new Subscription_1.Subscription(function () ***REMOVED***
            subject.logUnsubscribedFrame(index);
        ***REMOVED***));
        subscription.add(_super.prototype._subscribe.call(this, subscriber));
        return subscription;
    ***REMOVED***;
    HotObservable.prototype.setup = function () ***REMOVED***
        var subject = this;
        var messagesLength = subject.messages.length;
        for (var i = 0; i < messagesLength; i++) ***REMOVED***
            (function () ***REMOVED***
                var message = subject.messages[i];
                subject.scheduler.schedule(function () ***REMOVED*** message.notification.observe(subject); ***REMOVED***, message.frame);
            ***REMOVED***)();
        ***REMOVED***
    ***REMOVED***;
    return HotObservable;
***REMOVED***(Subject_1.Subject));
exports.HotObservable = HotObservable;
applyMixins_1.applyMixins(HotObservable, [SubscriptionLoggable_1.SubscriptionLoggable]);
//# sourceMappingURL=HotObservable.js.map