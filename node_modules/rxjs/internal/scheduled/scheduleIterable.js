"use strict";
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
var Observable_1 = require("../Observable");
var Subscription_1 = require("../Subscription");
var iterator_1 = require("../symbol/iterator");
function scheduleIterable(input, scheduler) ***REMOVED***
    if (!input) ***REMOVED***
        throw new Error('Iterable cannot be null');
    ***REMOVED***
    return new Observable_1.Observable(function (subscriber) ***REMOVED***
        var sub = new Subscription_1.Subscription();
        var iterator;
        sub.add(function () ***REMOVED***
            if (iterator && typeof iterator.return === 'function') ***REMOVED***
                iterator.return();
            ***REMOVED***
        ***REMOVED***);
        sub.add(scheduler.schedule(function () ***REMOVED***
            iterator = input[iterator_1.iterator]();
            sub.add(scheduler.schedule(function () ***REMOVED***
                if (subscriber.closed) ***REMOVED***
                    return;
                ***REMOVED***
                var value;
                var done;
                try ***REMOVED***
                    var result = iterator.next();
                    value = result.value;
                    done = result.done;
                ***REMOVED***
                catch (err) ***REMOVED***
                    subscriber.error(err);
                    return;
                ***REMOVED***
                if (done) ***REMOVED***
                    subscriber.complete();
                ***REMOVED***
                else ***REMOVED***
                    subscriber.next(value);
                    this.schedule();
                ***REMOVED***
            ***REMOVED***));
        ***REMOVED***));
        return sub;
    ***REMOVED***);
***REMOVED***
exports.scheduleIterable = scheduleIterable;
//# sourceMappingURL=scheduleIterable.js.map