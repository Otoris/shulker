let nextHandle = 1;
const RESOLVED = (() => Promise.resolve())();
const activeHandles = ***REMOVED******REMOVED***;
function findAndClearHandle(handle) ***REMOVED***
    if (handle in activeHandles) ***REMOVED***
        delete activeHandles[handle];
        return true;
    ***REMOVED***
    return false;
***REMOVED***
export const Immediate = ***REMOVED***
    setImmediate(cb) ***REMOVED***
        const handle = nextHandle++;
        activeHandles[handle] = true;
        RESOLVED.then(() => findAndClearHandle(handle) && cb());
        return handle;
    ***REMOVED***,
    clearImmediate(handle) ***REMOVED***
        findAndClearHandle(handle);
    ***REMOVED***,
***REMOVED***;
export const TestTools = ***REMOVED***
    pending() ***REMOVED***
        return Object.keys(activeHandles).length;
    ***REMOVED***
***REMOVED***;
//# sourceMappingURL=Immediate.js.map