import ***REMOVED*** Observable ***REMOVED*** from '../Observable';
import ***REMOVED*** SchedulerLike ***REMOVED*** from '../types';
import ***REMOVED*** Subscription ***REMOVED*** from '../Subscription';

export function schedulePromise<T>(input: PromiseLike<T>, scheduler: SchedulerLike) ***REMOVED***
  return new Observable<T>(subscriber => ***REMOVED***
    const sub = new Subscription();
    sub.add(scheduler.schedule(() => input.then(
      value => ***REMOVED***
        sub.add(scheduler.schedule(() => ***REMOVED***
          subscriber.next(value);
          sub.add(scheduler.schedule(() => subscriber.complete()));
        ***REMOVED***));
      ***REMOVED***,
      err => ***REMOVED***
        sub.add(scheduler.schedule(() => subscriber.error(err)));
      ***REMOVED***
    )));
    return sub;
  ***REMOVED***);
***REMOVED***
