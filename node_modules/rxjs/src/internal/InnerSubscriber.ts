import ***REMOVED*** Subscriber ***REMOVED*** from './Subscriber';
import ***REMOVED*** OuterSubscriber ***REMOVED*** from './OuterSubscriber';

/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends ***REMOVED***Ignored***REMOVED***
 */
export class InnerSubscriber<T, R> extends Subscriber<R> ***REMOVED***
  private index = 0;

  constructor(private parent: OuterSubscriber<T, R>, public outerValue: T, public outerIndex: number) ***REMOVED***
    super();
  ***REMOVED***

  protected _next(value: R): void ***REMOVED***
    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);
  ***REMOVED***

  protected _error(error: any): void ***REMOVED***
    this.parent.notifyError(error, this);
    this.unsubscribe();
  ***REMOVED***

  protected _complete(): void ***REMOVED***
    this.parent.notifyComplete(this);
    this.unsubscribe();
  ***REMOVED***
***REMOVED***
