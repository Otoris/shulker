'use strict';

var util    = require('util');

// Constants
var c = require('../const');

var $$ = require('../utils');
var HelpFormatter = require('./formatter.js');

/**
 * new RawDescriptionHelpFormatter(options)
 * new ArgumentParser(***REMOVED***formatterClass: argparse.RawDescriptionHelpFormatter, ...***REMOVED***)
 *
 * Help message formatter which adds default values to argument help.
 *
 * Only the name of this class is considered a public API. All the methods
 * provided by the class are considered an implementation detail.
 **/

function ArgumentDefaultsHelpFormatter(options) ***REMOVED***
  HelpFormatter.call(this, options);
***REMOVED***

util.inherits(ArgumentDefaultsHelpFormatter, HelpFormatter);

ArgumentDefaultsHelpFormatter.prototype._getHelpString = function (action) ***REMOVED***
  var help = action.help;
  if (action.help.indexOf('%(defaultValue)s') === -1) ***REMOVED***
    if (action.defaultValue !== c.SUPPRESS) ***REMOVED***
      var defaulting_nargs = [ c.OPTIONAL, c.ZERO_OR_MORE ];
      if (action.isOptional() || (defaulting_nargs.indexOf(action.nargs) >= 0)) ***REMOVED***
        help += ' (default: %(defaultValue)s)';
      ***REMOVED***
    ***REMOVED***
  ***REMOVED***
  return help;
***REMOVED***;

module.exports.ArgumentDefaultsHelpFormatter = ArgumentDefaultsHelpFormatter;

/**
 * new RawDescriptionHelpFormatter(options)
 * new ArgumentParser(***REMOVED***formatterClass: argparse.RawDescriptionHelpFormatter, ...***REMOVED***)
 *
 * Help message formatter which retains any formatting in descriptions.
 *
 * Only the name of this class is considered a public API. All the methods
 * provided by the class are considered an implementation detail.
 **/

function RawDescriptionHelpFormatter(options) ***REMOVED***
  HelpFormatter.call(this, options);
***REMOVED***

util.inherits(RawDescriptionHelpFormatter, HelpFormatter);

RawDescriptionHelpFormatter.prototype._fillText = function (text, width, indent) ***REMOVED***
  var lines = text.split('\n');
  lines = lines.map(function (line) ***REMOVED***
    return $$.trimEnd(indent + line);
  ***REMOVED***);
  return lines.join('\n');
***REMOVED***;
module.exports.RawDescriptionHelpFormatter = RawDescriptionHelpFormatter;

/**
 * new RawTextHelpFormatter(options)
 * new ArgumentParser(***REMOVED***formatterClass: argparse.RawTextHelpFormatter, ...***REMOVED***)
 *
 * Help message formatter which retains formatting of all help text.
 *
 * Only the name of this class is considered a public API. All the methods
 * provided by the class are considered an implementation detail.
 **/

function RawTextHelpFormatter(options) ***REMOVED***
  RawDescriptionHelpFormatter.call(this, options);
***REMOVED***

util.inherits(RawTextHelpFormatter, RawDescriptionHelpFormatter);

RawTextHelpFormatter.prototype._splitLines = function (text) ***REMOVED***
  return text.split('\n');
***REMOVED***;

module.exports.RawTextHelpFormatter = RawTextHelpFormatter;
