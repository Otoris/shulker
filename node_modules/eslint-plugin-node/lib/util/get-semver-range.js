/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * See LICENSE file in root directory for full license.
 */
"use strict"

const ***REMOVED*** Range ***REMOVED*** = require("semver")
const cache = new Map()

/**
 * Get the `semver.Range` object of a given range text.
 * @param ***REMOVED***string***REMOVED*** x The text expression for a semver range.
 * @returns ***REMOVED***Range|null***REMOVED*** The range object of a given range text.
 * It's null if the `x` is not a valid range text.
 */
module.exports = function getSemverRange(x) ***REMOVED***
    const s = String(x)
    let ret = cache.get(s) || null

    if (!ret) ***REMOVED***
        try ***REMOVED***
            ret = new Range(s)
        ***REMOVED*** catch (_error) ***REMOVED***
            // Ignore parsing error.
        ***REMOVED***
        cache.set(s, ret)
    ***REMOVED***

    return ret
***REMOVED***
