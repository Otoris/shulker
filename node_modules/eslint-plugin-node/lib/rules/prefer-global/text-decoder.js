/**
 * @author Toru Nagashima
 * See LICENSE file in root directory for full license.
 */
"use strict"

const ***REMOVED*** READ ***REMOVED*** = require("eslint-utils")
const checkForPreferGlobal = require("../../util/check-prefer-global")

const trackMap = ***REMOVED***
    globals: ***REMOVED***
        TextDecoder: ***REMOVED*** [READ]: true ***REMOVED***,
    ***REMOVED***,
    modules: ***REMOVED***
        util: ***REMOVED***
            TextDecoder: ***REMOVED*** [READ]: true ***REMOVED***,
        ***REMOVED***,
    ***REMOVED***,
***REMOVED***

module.exports = ***REMOVED***
    meta: ***REMOVED***
        docs: ***REMOVED***
            description:
                'enforce either `TextDecoder` or `require("util").TextDecoder`',
            category: "Stylistic Issues",
            recommended: false,
            url:
                "https://github.com/mysticatea/eslint-plugin-node/blob/v10.0.0/docs/rules/prefer-global/text-decoder.md",
        ***REMOVED***,
        type: "suggestion",
        fixable: null,
        schema: [***REMOVED*** enum: ["always", "never"] ***REMOVED***],
        messages: ***REMOVED***
            preferGlobal:
                "Unexpected use of 'require(\"util\").TextDecoder'. Use the global variable 'TextDecoder' instead.",
            preferModule:
                "Unexpected use of the global variable 'TextDecoder'. Use 'require(\"util\").TextDecoder' instead.",
        ***REMOVED***,
    ***REMOVED***,

    create(context) ***REMOVED***
        return ***REMOVED***
            "Program:exit"() ***REMOVED***
                checkForPreferGlobal(context, trackMap)
            ***REMOVED***,
        ***REMOVED***
    ***REMOVED***,
***REMOVED***
