'use strict';
var _ = require('lodash');
var ***REMOVED*** from, of ***REMOVED*** = require('rxjs');
var runAsync = require('run-async');

/**
 * Resolve a question property value if it is passed as a function.
 * This method will overwrite the property on the question object with the received value.
 * @param  ***REMOVED***Object***REMOVED*** question - Question object
 * @param  ***REMOVED***String***REMOVED*** prop     - Property to fetch name
 * @param  ***REMOVED***Object***REMOVED*** answers  - Answers object
 * @return ***REMOVED***Rx.Observable***REMOVED***   - Observable emitting once value is known
 */

exports.fetchAsyncQuestionProperty = function(question, prop, answers) ***REMOVED***
  if (!_.isFunction(question[prop])) ***REMOVED***
    return of(question);
  ***REMOVED***

  return from(
    runAsync(question[prop])(answers).then(value => ***REMOVED***
      question[prop] = value;
      return question;
    ***REMOVED***)
  );
***REMOVED***;
