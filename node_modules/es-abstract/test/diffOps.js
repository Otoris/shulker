'use strict';

var keys = require('object-keys');
var forEach = require('foreach');
var indexOf = require('array.prototype.indexof');

module.exports = function diffOperations(actual, expected, expectedMissing) ***REMOVED***
	var actualKeys = keys(actual);
	var expectedKeys = keys(expected);

	var extra = [];
	var missing = [];
	forEach(actualKeys, function (op) ***REMOVED***
		if (!(op in expected)) ***REMOVED***
			extra.push(op);
		***REMOVED*** else if (indexOf(expectedMissing, op) !== -1) ***REMOVED***
			extra.push(op);
		***REMOVED***
	***REMOVED***);
	forEach(expectedKeys, function (op) ***REMOVED***
		if (typeof actual[op] !== 'function' && indexOf(expectedMissing, op) === -1) ***REMOVED***
			missing.push(op);
		***REMOVED***
	***REMOVED***);

	return ***REMOVED*** missing: missing, extra: extra ***REMOVED***;
***REMOVED***;
