import _ from 'lodash';
import calculateCellHeight from './calculateCellHeight';

/**
 * Calculates the vertical row span index.
 *
 * @param ***REMOVED***Array[]***REMOVED*** rows
 * @param ***REMOVED***Object***REMOVED*** config
 * @returns ***REMOVED***number[]***REMOVED***
 */
export default (rows, config) => ***REMOVED***
  const tableWidth = rows[0].length;

  const rowSpanIndex = [];

  rows.forEach((cells) => ***REMOVED***
    const cellHeightIndex = new Array(tableWidth).fill(1);

    cells.forEach((value, index1) => ***REMOVED***
      if (!_.isNumber(config.columns[index1].width)) ***REMOVED***
        throw new TypeError('column[index].width must be a number.');
      ***REMOVED***

      if (!_.isBoolean(config.columns[index1].wrapWord)) ***REMOVED***
        throw new TypeError('column[index].wrapWord must be a boolean.');
      ***REMOVED***

      cellHeightIndex[index1] = calculateCellHeight(value, config.columns[index1].width, config.columns[index1].wrapWord);
    ***REMOVED***);

    rowSpanIndex.push(_.max(cellHeightIndex));
  ***REMOVED***);

  return rowSpanIndex;
***REMOVED***;
