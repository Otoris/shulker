const libs = ***REMOVED***
  sodium: sodium => (***REMOVED***
    open: sodium.api.crypto_secretbox_open_easy,
    close: sodium.api.crypto_secretbox_easy,
  ***REMOVED***),
  'libsodium-wrappers': sodium => (***REMOVED***
    open: sodium.crypto_secretbox_open_easy,
    close: sodium.crypto_secretbox_easy,
  ***REMOVED***),
  tweetnacl: tweetnacl => (***REMOVED***
    open: tweetnacl.secretbox.open,
    close: tweetnacl.secretbox,
  ***REMOVED***),
***REMOVED***;

exports.methods = ***REMOVED******REMOVED***;

for (const libName of Object.keys(libs)) ***REMOVED***
  try ***REMOVED***
    const lib = require(libName);
    if (libName === 'libsodium-wrappers' && lib.ready) ***REMOVED***
      lib.ready.then(() => ***REMOVED***
        exports.methods = libs[libName](lib);
      ***REMOVED***).catch(() => ***REMOVED***
        const tweetnacl = require('tweetnacl');
        exports.methods = libs.tweetnacl(tweetnacl);
      ***REMOVED***).catch(() => undefined);
    ***REMOVED*** else ***REMOVED***
      exports.methods = libs[libName](lib);
    ***REMOVED***
    break;
  ***REMOVED*** catch (err) ***REMOVED******REMOVED*** // eslint-disable-line no-empty
***REMOVED***
