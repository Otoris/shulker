const Action = require('./Action');

class GuildSync extends Action ***REMOVED***
  handle(data) ***REMOVED***
    const client = this.client;

    const guild = client.guilds.get(data.id);
    if (guild) ***REMOVED***
      if (data.presences) ***REMOVED***
        for (const presence of data.presences) guild._setPresence(presence.user.id, presence);
      ***REMOVED***

      if (data.members) ***REMOVED***
        for (const syncMember of data.members) ***REMOVED***
          const member = guild.members.get(syncMember.user.id);
          if (member) ***REMOVED***
            guild._updateMember(member, syncMember);
          ***REMOVED*** else ***REMOVED***
            guild._addMember(syncMember, false);
          ***REMOVED***
        ***REMOVED***
      ***REMOVED***

      if ('large' in data) guild.large = data.large;
    ***REMOVED***
  ***REMOVED***
***REMOVED***

module.exports = GuildSync;
