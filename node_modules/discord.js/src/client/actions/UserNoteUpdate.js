const Action = require('./Action');
const Constants = require('../../util/Constants');

class UserNoteUpdateAction extends Action ***REMOVED***
  handle(data) ***REMOVED***
    const client = this.client;

    const oldNote = client.user.notes.get(data.id);
    const note = data.note.length ? data.note : null;

    client.user.notes.set(data.id, note);

    client.emit(Constants.Events.USER_NOTE_UPDATE, data.id, oldNote, note);

    return ***REMOVED***
      old: oldNote,
      updated: note,
    ***REMOVED***;
  ***REMOVED***
***REMOVED***

/**
 * Emitted whenever a note is updated.
 * @event Client#userNoteUpdate
 * @param ***REMOVED***User***REMOVED*** user The user the note belongs to
 * @param ***REMOVED***string***REMOVED*** oldNote The note content before the update
 * @param ***REMOVED***string***REMOVED*** newNote The note content after the update
 */

module.exports = UserNoteUpdateAction;
