const AbstractHandler = require('./AbstractHandler');

class GuildCreateHandler extends AbstractHandler ***REMOVED***
  handle(packet) ***REMOVED***
    const client = this.packetManager.client;
    const data = packet.d;

    const guild = client.guilds.get(data.id);
    if (guild) ***REMOVED***
      if (!guild.available && !data.unavailable) ***REMOVED***
        // A newly available guild
        guild.setup(data);
        this.packetManager.ws.checkIfReady();
      ***REMOVED***
    ***REMOVED*** else ***REMOVED***
      // A new guild
      client.dataManager.newGuild(data);
    ***REMOVED***
  ***REMOVED***
***REMOVED***

module.exports = GuildCreateHandler;
