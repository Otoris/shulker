!function(t,e)***REMOVED***"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Snekfetch=e():t.Snekfetch=e()***REMOVED***("undefined"!=typeof self?self:this,function()***REMOVED***return function(t)***REMOVED***var e=***REMOVED******REMOVED***;function s(n)***REMOVED***if(e[n])return e[n].exports;var r=e[n]=***REMOVED***i:n,l:!1,exports:***REMOVED******REMOVED******REMOVED***;return t[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports***REMOVED***return s.m=t,s.c=e,s.d=function(t,e,n)***REMOVED***s.o(t,e)||Object.defineProperty(t,e,***REMOVED***configurable:!1,enumerable:!0,get:n***REMOVED***)***REMOVED***,s.n=function(t)***REMOVED***var e=t&&t.__esModule?function()***REMOVED***return t.default***REMOVED***:function()***REMOVED***return t***REMOVED***;return s.d(e,"a",e),e***REMOVED***,s.o=function(t,e)***REMOVED***return Object.prototype.hasOwnProperty.call(t,e)***REMOVED***,s.p="",s(s.s=0)***REMOVED***([function(t,e,s)***REMOVED***t.exports=s(1)***REMOVED***,function(t,e,s)***REMOVED***const n="undefined"!=typeof window,r=s(2),o=s(n?3:4);class i extends o.Extension***REMOVED***constructor(t,e,s=***REMOVED******REMOVED***)***REMOVED***super(),this.options=Object.assign(***REMOVED***version:1,qs:r,followRedirects:!0***REMOVED***,s),this.request=o.buildRequest.call(this,t,e,s),s.headers&&this.set(s.headers),s.query&&this.query(s.query),s.data&&this.send(s.data)***REMOVED***query(t,e)***REMOVED***if(this.request.query||(this.request.query=***REMOVED******REMOVED***),null!==t&&"object"==typeof t)for(const[e,s]of Object.entries(t))this.query(e,s);else this.request.query[t]=e;return this***REMOVED***set(t,e)***REMOVED***if(null!==t&&"object"==typeof t)for(const e of Object.keys(t))this.set(e,t[e]);else this.request.setHeader(t,e);return this***REMOVED***attach(...t)***REMOVED***const e=this.data instanceof o.FormData?this.data:this.data=new o.FormData;if("object"==typeof t[0])for(const[e,s]of Object.entries(t[0]))this.attach(e,s);else e.append(...t);return this***REMOVED***send(t)***REMOVED***if(t instanceof o.FormData||o.shouldSendRaw(t))this.data=t;else if(null!==t&&"object"==typeof t)***REMOVED***const e=this.request.getHeader("content-type");let s;e?e.includes("json")?s=JSON.stringify:e.includes("urlencoded")&&(s=this.options.qs.stringify):(this.set("Content-Type","application/json"),s=JSON.stringify),this.data=s(t)***REMOVED***else this.data=t;return this***REMOVED***then(t,e)***REMOVED***return this._response?this._response.then(t,e):this._response=o.finalizeRequest.call(this).then((***REMOVED***response:t,raw:e,redirect:s,headers:n***REMOVED***)=>***REMOVED***if(s)***REMOVED***let e=this.request.method;[301,302].includes(t.statusCode)?("HEAD"!==e&&(e="GET"),this.data=null):303===t.statusCode&&(e="GET");const n=this.request.getHeaders();return delete n.host,new i(e,s,***REMOVED***data:this.data,headers:n,version:this.options.version***REMOVED***)***REMOVED***const r=t.statusCode||t.status,a=this,u=***REMOVED***request:this.request,get body()***REMOVED***delete u.body;const t=this.headers["content-type"];if(t&&t.includes("application/json"))try***REMOVED***u.body=JSON.parse(u.text)***REMOVED***catch(t)***REMOVED***u.body=u.text***REMOVED***else t&&t.includes("application/x-www-form-urlencoded")?u.body=a.options.qs.parse(u.text):u.body=e;return u.body***REMOVED***,text:e.toString(),ok:r>=200&&r<400,headers:n||t.headers,status:r,statusText:t.statusText||o.STATUS_CODES[t.statusCode]***REMOVED***;if(u.ok)return u;***REMOVED***const t=new Error(`$***REMOVED***u.status***REMOVED*** $***REMOVED***u.statusText***REMOVED***`.trim());return Object.assign(t,u),Promise.reject(t)***REMOVED******REMOVED***).then(t,e)***REMOVED***catch(t)***REMOVED***return this.then(null,t)***REMOVED***end(t)***REMOVED***return this.then(e=>t?t(null,e):e,e=>t?t(e,e.status?e:null):Promise.reject(e))***REMOVED***_finalizeRequest()***REMOVED***if(this.request&&("HEAD"!==this.request.method&&this.set("Accept-Encoding","gzip, deflate"),this.data&&this.data.getBoundary&&this.set("Content-Type",`multipart/form-data; boundary=$***REMOVED***this.data.getBoundary()***REMOVED***`),this.request.query))***REMOVED***const[t,e]=this.request.path.split("?");this.request.path=`$***REMOVED***t***REMOVED***?$***REMOVED***this.options.qs.stringify(this.request.query)***REMOVED***$***REMOVED***e?`&$***REMOVED***e***REMOVED***`:""***REMOVED***`***REMOVED******REMOVED******REMOVED***i.METHODS=o.METHODS.concat("BREW").filter(t=>"M-SEARCH"!==t);for(const t of i.METHODS)i[t.toLowerCase()]=function(e,s)***REMOVED***return new(this.prototype instanceof i?this:i)(t,e,s)***REMOVED***;t.exports=i***REMOVED***,function(t,e)***REMOVED***(***REMOVED***parse:t=>***REMOVED***const e=***REMOVED******REMOVED***;for(const[s,n]of new Window.URLSearchParams(t).entries())e[s]=n;return e***REMOVED***,stringify:t=>new window.URLSearchParams(t).toString()***REMOVED***)***REMOVED***,function(t,e)***REMOVED***t.exports=***REMOVED***buildRequest:function(t,e)***REMOVED***return***REMOVED***method:t,path:e,redirect:this.options.followRedirects?"follow":"manual",headers:***REMOVED******REMOVED***,setHeader(t,e)***REMOVED***this.headers[t.toLowerCase()]=e***REMOVED***,getHeader(t)***REMOVED***return this.headers[t.toLowerCase()]***REMOVED******REMOVED******REMOVED***,finalizeRequest:function()***REMOVED***return this._finalizeRequest(),this.data&&(this.request.body=this.data),window.fetch(this.request.path,this.request).then(t=>t.text().then(e=>***REMOVED***const s=***REMOVED******REMOVED***;for(const[e,n]of t.headers.entries())s[e.toLowerCase()]=n;return***REMOVED***response:t,raw:e,headers:s***REMOVED******REMOVED***))***REMOVED***,shouldSendRaw:()=>!1,METHODS:["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","PATCH"],STATUS_CODES:***REMOVED******REMOVED***,Extension:Object,FormData:window.FormData***REMOVED******REMOVED***,function(t,e)***REMOVED******REMOVED***])***REMOVED***);