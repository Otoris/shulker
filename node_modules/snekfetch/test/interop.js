function makeProxy(fetch) ***REMOVED***
  return new Proxy(fetch, ***REMOVED***
    get(target, prop) ***REMOVED***
      const p = target[prop];
      if (typeof p === 'function') ***REMOVED***
        return (url, options = ***REMOVED******REMOVED***) =>
          p.call(target, url, Object.assign(options, ***REMOVED*** version: global.HTTP_VERSION ***REMOVED***));
      ***REMOVED***
      return p;
    ***REMOVED***,
  ***REMOVED***);
***REMOVED***

exports.Snekfetch = makeProxy(require('../'));
try ***REMOVED***
  exports.SnekfetchSync = makeProxy(require('../sync'));
***REMOVED*** catch (err) ***REMOVED******REMOVED*** // eslint-disable-line no-empty

exports.TestRoot = global.HTTP_VERSION === 2 ?
  'https://nghttp2.org/httpbin' :
  'https://httpbin.org';

