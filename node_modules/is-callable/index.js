'use strict';

var fnToStr = Function.prototype.toString;

var constructorRegex = /^\s*class\b/;
var isES6ClassFn = function isES6ClassFunction(value) ***REMOVED***
	try ***REMOVED***
		var fnStr = fnToStr.call(value);
		return constructorRegex.test(fnStr);
	***REMOVED*** catch (e) ***REMOVED***
		return false; // not a function
	***REMOVED***
***REMOVED***;

var tryFunctionObject = function tryFunctionToStr(value) ***REMOVED***
	try ***REMOVED***
		if (isES6ClassFn(value)) ***REMOVED*** return false; ***REMOVED***
		fnToStr.call(value);
		return true;
	***REMOVED*** catch (e) ***REMOVED***
		return false;
	***REMOVED***
***REMOVED***;
var toStr = Object.prototype.toString;
var fnClass = '[object Function]';
var genClass = '[object GeneratorFunction]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isCallable(value) ***REMOVED***
	if (!value) ***REMOVED*** return false; ***REMOVED***
	if (typeof value !== 'function' && typeof value !== 'object') ***REMOVED*** return false; ***REMOVED***
	if (typeof value === 'function' && !value.prototype) ***REMOVED*** return true; ***REMOVED***
	if (hasToStringTag) ***REMOVED*** return tryFunctionObject(value); ***REMOVED***
	if (isES6ClassFn(value)) ***REMOVED*** return false; ***REMOVED***
	var strClass = toStr.call(value);
	return strClass === fnClass || strClass === genClass;
***REMOVED***;
